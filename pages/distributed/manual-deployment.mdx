# Manual Deployment

## Overview

This guide demonstrates how to manually deploy ZisK's distributed proving system locally using a SHA hasher program as an example.

---

## Prerequisites

Before starting, ensure you have:

- A compiled ZisK program (ELF binary)
- Generated proving keys
- Input files in binary format
- Rust 1.70+ installed

> **Don't have these?** See [Build and Prove Guide](/developer/build-and-prove)

**System requirements:**
- **OS:** Linux/macOS
- **RAM:** 8GB+ (16GB for multiple workers)
- **Disk:** 10GB+

For system architecture details, see the [Introduction](/distributed/introduction).


## Example: SHA Hasher

This section demonstrates the workflow for running distributed proof generation using a SHA hasher program.

### Step 1: Build the Distributed System

First, build the distributed system binaries from the [ZisK repository](https://github.com/0xPolygonHermez/zisk):

```bash
cd /path/to/zisk
cargo build --release --bin zisk-coordinator --bin zisk-worker
```

### Step 2: Start the Coordinator

Open your first terminal and start the coordinator service:

```bash
cd /path/to/zisk
cargo run --release --bin zisk-coordinator
```

The coordinator will start and display system information:

```
ZisK zkVM 0.12.0
   System Darwin 25.0.0 (macOS 26.0.1)
 Hostname example-host.local
  Command zisk-coordinator (ZisK Distributed Coordinator 0.12.0)
Environment development
  Logging debug/pretty 
Host/Port 0.0.0.0:50051

INFO zisk_coordinator::handler_coordinator: Starting Coordinator Network gRPC service on 0.0.0.0:50051
```

### Step 3: Start a Worker

Open a second terminal and start a worker node:

```bash
cd /path/to/zisk
cargo run --release --bin zisk-worker -- \
  --elf /path/to/sha_hasher/target/riscv64ima-zisk-zkvm-elf/release/sha_hasher \
  --inputs-folder /path/to/sha_hasher/build
```

The worker will register with the coordinator and display its configuration:

```
ZisK zkVM 0.12.0
   System Darwin 25.0.0 (macOS 26.0.1)
 Hostname example-host.local
  Command zisk-worker (ZisK Distributed Worker 0.12.0)
Worker ID WorkerId(worker-fc5a6dfa9151409e876104c64a64bfa8)
Compute Cap 10 CU
Coordinator http://127.0.0.1:50051
Environment development
  Logging debug/pretty 
Witness Lib /Users/example/.zisk/bin/libzisk_witness.dylib
        Elf /path/to/sha_hasher/target/riscv64ima-zisk-zkvm-elf/release/sha_hasher
   Emulator Running in emulator mode
Proving key /Users/example/.zisk/provingKey
        STD Standard mode

INFO zisk_distributed_worker::worker: Starting asm microservices...
INFO proofman_common::proof_ctx: Creating proof context
INFO zisk_distributed_worker::worker_node: Connecting to coordinator at http://127.0.0.1:50051
INFO zisk_distributed_worker::worker_node: Registration accepted: Registration successful
```

### Step 4: Generate a Proof

Open a third terminal and submit a proof generation request:

```bash
cd /path/to/zisk
cargo run --release --bin zisk-coordinator -- prove \
  --input input.bin \
  --compute-capacity 10
```

The system will confirm the job submission:

```
INFO zisk_coordinator::handler_prove: Connecting to ZisK Coordinator gRPC service on http://127.0.0.1:50051
INFO zisk_coordinator::handler_prove: Sending Launch request for block id: 0x1234567890abcdef with 10 compute units
INFO zisk_coordinator::handler_prove: Proof job started successfully with job_id: 3daeb740-9817-4bcd-a305-08e90dc44779
```

### Step 5: Monitor the Three-Phase Process

The system automatically executes a three-phase proof generation process. Monitor progress in the coordinator and worker logs:

**Phase 1 - Contributions:**
```
INFO zisk_distributed_coordinator::coordinator: [Phase1 started] JobId(...) with 1 workers
INFO zisk_distributed_worker::worker: Computing Contribution for JobId(...)
```

**Phase 2 - Prove:**
```
INFO zisk_distributed_coordinator::coordinator: [Phase2 started] JobId(...) with 1 workers
INFO zisk_distributed_worker::worker: Computing Prove for JobId(...)
```

**Phase 3 - Aggregate:**
```
INFO zisk_distributed_coordinator::coordinator: [Job Finished] JobId(...) (duration: 180.027s)
INFO zisk_distributed_worker::worker: Starting aggregation step for JobId(...)
```

### Step 6: Verify Results

Check the generated proof files:

```bash
ls -la proofs/
```

The system generates both raw and compressed proof files:

```
-rw-r--r--  1 user  staff  249880 Oct 22 14:40 proof_3daeb740-9817-4bcd-a305-08e90dc44779.fri
-rw-r--r--  1 user  staff  213310 Oct 22 14:40 proof_3daeb740-9817-4bcd-a305-08e90dc44779.fri.compressed
```

---

## Next Steps

For containerized deployment, see [Docker Deployment](/distributed/docker-deployment).
